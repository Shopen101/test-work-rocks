{"version":3,"sources":["components/Post.jsx","components/FindInput.jsx","components/FindButton.jsx","redux/action/index.js","pages/PostFrame.jsx","pages/ErrorPage.jsx","App.js","hooks/routes.hook.jsx","redux/reducers/main.js","redux/reducers/index.js","redux/store.js","index.js"],"names":["Post","firstName","lastName","title","text","className","href","FindInput","onChange","userFindText","type","value","maxLength","FindButton","onClick","version","id","xmlns","xmlnsXlink","x","y","viewBox","style","enableBackground","xmlSpace","d","setPostsWithName","posts","payload","arrOfPosts","PostFrame","dispatch","useDispatch","useState","setUserFindText","postsWithOutSort","setPostsWithoutSort","useSelector","state","all","users","correctPosts","useEffect","forEach","post","user","userId","postWithUsername","name","username","push","split","length","userWord","regexp","RegExp","trim","sortedArrOfPost","match","Array","from","Set","alert","event","target","map","index","body","ErrorPage","App","routes","path","exact","component","to","loadAllPosts","useCallback","a","fetch","then","response","json","jsonAnswer","initialState","main","action","rootReducer","combineReducers","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5dcdb1fa.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nfunction Post({ firstName, lastName, title, text }) {\r\n    return (\r\n        <div className=\"post\">\r\n            <div className=\"post__header\">\r\n                <a href=\"# \" className=\"post__header--text\" >{title}</a>\r\n            </div>\r\n            <div className=\"post__description\">\r\n                <p className=\"post__description--text\">{text}</p>\r\n            </div>\r\n            <div className=\"post__author\">\r\n                <p className=\"post__author--name\">{`${firstName} ${lastName}`}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post\r\n","import React from 'react'\r\n\r\nfunction FindInput({ onChange, userFindText }) {\r\n    return (\r\n        <input type=\"text\" className=\"find__input\" onChange={onChange} value={userFindText} maxLength=\"50\" />\r\n    )\r\n}\r\n\r\nexport default FindInput\r\n","import React from 'react'\r\n\r\nfunction FindButton({ onClick }) {\r\n    return (\r\n        <div>\r\n            <button className=\"find__btn\" onClick={onClick} >\r\n                <svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512.005 512.005\" style={{ enableBackground: 'new 0 0 512.005 512.005' }} xmlSpace=\"preserve\"><g><g>\r\n                    <path d=\"M505.749,475.587l-145.6-145.6c28.203-34.837,45.184-79.104,45.184-127.317c0-111.744-90.923-202.667-202.667-202.667\r\n              S0,90.925,0,202.669s90.923,202.667,202.667,202.667c48.213,0,92.48-16.981,127.317-45.184l145.6,145.6\r\n              c4.16,4.16,9.621,6.251,15.083,6.251s10.923-2.091,15.083-6.251C514.091,497.411,514.091,483.928,505.749,475.587z\r\n              M202.667,362.669c-88.235,0-160-71.765-160-160s71.765-160,160-160s160,71.765,160,160S290.901,362.669,202.667,362.669z\" />\r\n                </g></g><g /><g /><g /><g /><g /><g /><g /><g /><g /><g /><g /><g /><g /><g /><g />\r\n                </svg>\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FindButton\r\n","export const setPosts = posts => ({\r\n    type: 'SETPOSTS',\r\n    payload: posts,\r\n})\r\n\r\nexport const setUsers = users => ({\r\n    type: 'SETUSERS',\r\n    payload: users,\r\n})\r\n\r\nexport const setPostsWithName = posts => ({\r\n    type: 'SETPOSTSWITHNAME',\r\n    payload: posts\r\n})","import React, { useState, useEffect } from 'react'\r\nimport { FindButton, FindInput, Post } from '../components'\r\n\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setPostsWithName } from '../redux/action'\r\n\r\nconst arrOfPosts = []\r\n\r\nfunction PostFrame() {\r\n    const dispatch = useDispatch()\r\n    const [userFindText, setUserFindText] = useState('')\r\n    const [postsWithOutSort, setPostsWithoutSort] = useState([])\r\n\r\n    const { posts, users, correctPosts } = useSelector(state => state.all)\r\n\r\n    useEffect(() => {\r\n        posts?.forEach(post => {\r\n            users?.forEach(user => {\r\n                if (post.userId === user.id) {\r\n                    let postWithUsername = {\r\n                        ...post,\r\n                        firstName: user.name,\r\n                        lastName: user.username,\r\n                    }\r\n                    arrOfPosts.push(postWithUsername)\r\n                }\r\n            })\r\n        })\r\n\r\n        dispatch(setPostsWithName(arrOfPosts))\r\n        setPostsWithoutSort(arrOfPosts)\r\n    }, [posts, users, dispatch])\r\n\r\n    const changeHandler = event => {\r\n        setUserFindText(event.target.value)\r\n    }\r\n\r\n    const handleFindClick = () => {\r\n        if (!userFindText) {\r\n            alert('Вы не ввели ничего в окно поиска!')\r\n        } else {\r\n            if (userFindText.split(' ').length > 1) {\r\n                let userTxt = userFindText.split(' ')\r\n\r\n                userTxt.forEach(userWord => {\r\n                    const regexp = new RegExp(userWord.trim(), 'gmiu')\r\n                    let sortedArrOfPost = []\r\n\r\n                    postsWithOutSort.forEach(post => {\r\n                        post.firstName.split(' ').forEach(name => name.match(regexp) && sortedArrOfPost.push(post))\r\n                        post.lastName.split(' ').forEach(name => name.match(regexp) && sortedArrOfPost.push(post))\r\n                    })\r\n\r\n                    sortedArrOfPost = Array.from(new Set(sortedArrOfPost))\r\n                    sortedArrOfPost.length ? dispatch(setPostsWithName(sortedArrOfPost)) : alert('По вашему запросу ничего не было найдено!')\r\n                })\r\n            } else {\r\n                const regexp = new RegExp(userFindText.trim(), 'gmiu')\r\n                let sortedArrOfPost = []\r\n\r\n                postsWithOutSort.forEach(post => {\r\n                    post.firstName.split(' ').forEach(name => name.match(regexp) && sortedArrOfPost.push(post))\r\n                    post.lastName.split(' ').forEach(name => name.match(regexp) && sortedArrOfPost.push(post))\r\n                })\r\n\r\n                sortedArrOfPost = Array.from(new Set(sortedArrOfPost))\r\n                sortedArrOfPost.length ? dispatch(setPostsWithName(sortedArrOfPost)) : alert('По вашему запросу ничего не было найдено!')\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"wrap\">\r\n                <div className=\"find__block\">\r\n                    <FindButton onClick={handleFindClick} />\r\n                    <FindInput onChange={changeHandler} userFindText={userFindText} />\r\n                </div>\r\n                <div className=\"posts__block\">\r\n                    {\r\n                        correctPosts.length\r\n                            ?\r\n                            correctPosts?.map((post, index) => {\r\n                                return (\r\n                                    <Post\r\n                                        firstName={post.firstName}\r\n                                        lastName={post.lastName}\r\n                                        title={post.title}\r\n                                        text={post.body}\r\n                                        key={`${post.body}__${index}`}\r\n                                    />\r\n                                )\r\n                            })\r\n                            : <div className=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostFrame\r\n","import React from 'react'\r\n\r\nfunction ErrorPage() {\r\n    return (\r\n        <div>\r\n            <h2>При выполнении запроса произошла ошибка!</h2>\r\n            <p>Вернитесь пожалуйста на предыдущую страницу сайта.</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ErrorPage\r\n","import React, { useCallback, useEffect } from 'react'\r\n\r\nimport { useRoutes } from './hooks/routes.hook'\r\nimport { useDispatch } from 'react-redux'\r\nimport { setPosts, setUsers } from './redux/action'\r\n\r\nfunction App() {\r\n    const routes = useRoutes()\r\n    const dispatch = useDispatch()\r\n\r\n    const loadAllPosts = useCallback(async () => {\r\n        await fetch('https://jsonplaceholder.cypress.io/posts')\r\n            .then(response => response.json())\r\n            .then(jsonAnswer => dispatch(setPosts(jsonAnswer)))\r\n        await fetch('https://jsonplaceholder.cypress.io/users')\r\n            .then(response => response.json())\r\n            .then(jsonAnswer => dispatch(setUsers(jsonAnswer)))\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        loadAllPosts()\r\n    }, [loadAllPosts])\r\n\r\n    return <div>{routes}</div>\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport { Switch, Route, Redirect } from 'react-router-dom'\r\nimport { PostFrame, ErrorPage } from '../pages'\r\n\r\nexport const useRoutes = () => {\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/\" exact component={PostFrame} />\r\n            <Route path=\"/error\" exact component={ErrorPage} />\r\n            <Redirect to=\"/error\" />\r\n        </Switch>\r\n    )\r\n}","const initialState = {\r\n    posts: [],\r\n    users: [],\r\n    correctPosts: [],\r\n}\r\n\r\nconst main = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SETPOSTS':\r\n            return {\r\n                ...state,\r\n                posts: action.payload,\r\n            }\r\n        case 'SETUSERS':\r\n            return {\r\n                ...state,\r\n                users: action.payload,\r\n            }\r\n        case 'SETPOSTSWITHNAME':\r\n            return {\r\n                ...state,\r\n                correctPosts: action.payload,\r\n            }\r\n        default:\r\n            return {\r\n                ...state,\r\n            }\r\n    }\r\n}\r\n\r\nexport default main\r\n","import { combineReducers } from 'redux'\r\nimport main from './main'\r\n\r\nconst rootReducer = combineReducers({\r\n    all: main\r\n})\r\n\r\nexport default rootReducer\r\n","import { createStore, compose } from 'redux'\r\n\r\nimport rootReducer from './reducers'\r\n\r\nconst composeEnhancers =\r\n    typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n        ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\r\n              // Specify extension’s options like name, actionsBlacklist, actionsCreators, serialize...\r\n          })\r\n        : compose\r\n\r\nconst store = createStore(rootReducer, composeEnhancers())\r\n\r\nexport default store\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport { Provider } from 'react-redux'\n\nimport App from './App'\nimport './scss/index.scss'\n\nimport store from './redux/store'\n\nReactDOM.render(\n    <React.StrictMode>\n        <Router>\n            <Provider store={store}>\n                <App />\n            </Provider>\n        </Router>\n    </React.StrictMode>,\n    document.getElementById('root'),\n)\n"],"sourceRoot":""}